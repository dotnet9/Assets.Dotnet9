å‰å‡ å¤©æˆ‘åœ¨åšä¸€ä¸ªå‰¯ä¸šï¼Œæ„è¯†åˆ°æˆ‘éœ€è¦ä½¿ç”¨ä¸€äº› JavaScript åŠŸèƒ½ã€‚ä¸€æƒ³åˆ°è¦å†æ¬¡å¤„ç† Node.js å’Œ npmï¼Œæˆ‘å°±å®Œå…¨æ”¾å¼ƒäº†ï¼Œæ‰€ä»¥æˆ‘å†³å®šç ”ç©¶ä¸€ä¸‹åœ¨ .NET åº”ç”¨ç¨‹åºä¸­è¿è¡Œ JavaScript çš„å¯èƒ½æ€§ã€‚å¾ˆç–¯ç‹‚å§ï¼Ÿå®é™…ä¸Šï¼Œè¿™å‡ºä¹æ„æ–™çš„ç®€å•ã€‚

## 1. ä½ ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ

å°½ç®¡æˆ‘å¾ˆå–œæ¬¢ .NET ç”Ÿæ€ç³»ç»Ÿï¼Œä½†æœ‰äº›äº‹æƒ…ï¼ŒJavaScript ç”Ÿæ€ç³»ç»Ÿåšå¾—æ›´å¥½ã€‚å…¶ä¸­ä¹‹ä¸€å°±æ˜¯ä»»ä½•äº‹æƒ…éƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªåº“ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåˆ°ç½‘ç»œæ—¶ã€‚

ä»¥è¯­æ³•é«˜äº®ä¸ºä¾‹ã€‚è¿™å¯ä»¥ç›´æ¥ç”¨ C# æ¥åšï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªç‰¹åˆ«æµç•…çš„ä½“éªŒã€‚ä¾‹å¦‚ï¼Œ[TextMateSharp](https://github.com/danipen/TextMateSharp) é¡¹ç›®ä¸º TextMate è¯­æ³•æä¾›äº†ä¸€ä¸ªè§£é‡Šå™¨ã€‚è¿™äº›æ–‡ä»¶æ˜¯ VS Code ç”¨æ¥ä¸ºä¸€ç§è¯­è¨€æ·»åŠ åŸºæœ¬è¯­æ³•é«˜äº®çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æƒ³éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œå®ƒåŒ…è£…äº†ä¸€ä¸ª[æœ¬åœ°ä¾èµ–](https://github.com/kkos/oniguruma)ï¼Œè¿™å°±å¢åŠ äº†ä¸€äº›å¤æ‚æ€§ã€‚

ç›¸æ¯”ä¹‹ä¸‹ï¼ŒJavaScript æœ‰å¤§é‡æˆç†Ÿçš„è¯­æ³•é«˜äº®åº“ã€‚ä»…ä¸¾å‡ ä¾‹ï¼Œæœ‰ [highlight.js](https://highlightjs.org/)ã€[Prism.js](https://prismjs.com/)ï¼ˆåœ¨æœ¬åšå®¢ä¸­ä½¿ç”¨ï¼‰å’Œ [shiki.js](https://github.com/shikijs/shiki)ã€‚å°¤å…¶æ˜¯å‰ä¸¤ä¸ªï¼Œéå¸¸æˆç†Ÿï¼Œæœ‰å¤šä¸ªæ’ä»¶å’Œä¸»é¢˜ï¼Œè€Œä¸”æœ‰ç®€å•çš„ APIã€‚

ä½œä¸ºä¸€ä¸ª .NET å¼€å‘è€…ï¼ŒJavaScript çš„æ˜æ˜¾é—®é¢˜æ˜¯ï¼Œä½ éœ€è¦å­¦ä¹ å¹¶é€‰æ‹©è¿›å…¥ä¸€ä¸ªå®Œæ•´çš„ç‹¬ç«‹å·¥å…·é“¾ï¼Œä¸ Node.js å’Œ NPM ä¸€èµ·å·¥ä½œã€‚è¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å¼€é”€ï¼Œåªæ˜¯ä¸ºäº†ä½¿ç”¨ä¸€ä¸ªå°åŠŸèƒ½ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬é™·å…¥äº†ä¸€ä¸ªå›°å¢ƒã€‚æˆ‘ä»¬è¦ä¹ˆèµ° C#ï¼ˆ+ Nativeï¼‰è·¯çº¿ï¼Œè¦ä¹ˆå°±å¾—è½¬ç”¨ JavaScriptã€‚

æˆ–è€…......æˆ‘ä»¬ç›´æ¥ä»æˆ‘ä»¬çš„ .NET åº”ç”¨ç¨‹åºä¸­è°ƒç”¨ JavaScript ğŸ¤¯

## 2. åœ¨ .NET ä¸­è¿è¡Œ JavaScript

ä¸€æ—¦ä½ å†³å®šåœ¨ä½ çš„ .NET ä»£ç ä¸­è¿è¡Œ JavaScriptï¼Œä½ å°±ä¼šè€ƒè™‘å‡ ä¸ªé€‰æ‹©ã€‚ä½ å¯ä»¥å€Ÿç”¨ JavaScript å¼•æ“ï¼Œè®©å®ƒä¸ºä½ è¿è¡Œä½ çš„ JavaScriptï¼Œä½†ä½ å¹¶æ²¡æœ‰çœŸæ­£è§£å†³é—®é¢˜ï¼Œä½ ä»ç„¶éœ€è¦å®‰è£… Node.jsã€‚

å¦ä¸€ä¸ªé€‰æ‹©æ˜¯åœ¨ä½ çš„åº“ä¸­ç›´æ¥æ†ç»‘ JavaScript å¼•æ“ã€‚è¿™å¹¶ä¸åƒå¬èµ·æ¥é‚£ä¹ˆç–¯ç‹‚ï¼Œæœ‰å‡ ä¸ª NuGet åŒ…é‡‡ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œç„¶åæš´éœ²å‡ºä¸€ä¸ª C# å±‚æ¥ä¸å¼•æ“è¿›è¡Œäº¤äº’ã€‚

ä¸‹é¢æ˜¯ä½ å¯ä»¥ä½¿ç”¨çš„ä¸€äº›åŒ…çš„åˆ—è¡¨ã€‚

### Jering.Javascript.NodeJS

[è¿™ä¸ªåº“](https://github.com/JeringTech/Javascript.NodeJS)é‡‡å–äº†ä¸Šè¿°çš„ç¬¬ä¸€ç§æ–¹æ³•ã€‚å®ƒä¸åŒ…æ‹¬åŒ…ä¸­çš„ Node.jsã€‚ç›¸åï¼Œå®ƒä¸ºæ‰§è¡Œ JavaScript ä»£ç æä¾›äº†ä¸€ä¸ª C# APIï¼Œå¹¶è°ƒç”¨äº†å®‰è£…åœ¨ä½ æœºå™¨ä¸Šçš„ Node.jsã€‚è¿™åœ¨ä½ çŸ¥é“ä¸¤è€…éƒ½å·²å®‰è£…çš„ç¯å¢ƒä¸­å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œä½†å®ƒå¹¶æ²¡æœ‰çœŸæ­£è§£å†³æˆ‘æƒ³é¿å…çš„é—®é¢˜ã€‚

### ChakraCore

[ChakraCore](https://github.com/chakra-core/ChakraCore) æ˜¯ Edge è½¬ä¸ºåŸºäº Chromium å¼•æ“ä¹‹å‰æœ€åˆä½¿ç”¨çš„ JavaScript å¼•æ“ã€‚æ ¹æ® GitHub é¡¹ç›®çš„ä»‹ç»ï¼š

>`ChakraCore` æ˜¯ä¸€ä¸ªå¸¦æœ‰ C è¯­è¨€ API çš„ JavaScript å¼•æ“ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥ä¸ºä»»ä½• C è¯­è¨€æˆ– C è¯­è¨€å…¼å®¹é¡¹ç›®æ·»åŠ å¯¹ JavaScript çš„æ”¯æŒã€‚å®ƒå¯ä»¥åœ¨ Linux macOS å’Œ Windows ä¸Šé’ˆå¯¹ x64 å¤„ç†å™¨è¿›è¡Œç¼–è¯‘ã€‚è€Œ x86 å’Œ ARM åªé€‚ç”¨äº Windowsã€‚

å› æ­¤ï¼ŒChakraCore åŒ…æ‹¬ä¸€ä¸ªæœ¬åœ°ä¾èµ–ï¼Œä½†ç”±äº C# å¯ä»¥ `P/Invoke` åˆ°æœ¬åœ°åº“ï¼Œè¿™æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä½†å®ƒä¼šå¸¦æ¥ä¸€äº›éƒ¨ç½²æ–¹é¢çš„æŒ‘æˆ˜ã€‚

### ClearScript (V8)

Node.JSã€Chromiumã€Chrome å’Œæœ€æ–°çš„ Edge ä½¿ç”¨çš„éƒ½æ˜¯ V8 JavaScript å¼•æ“ã€‚[Microsoft.ClearScript](https://github.com/Microsoft/ClearScript) åŒ…ä¸ºè¯¥åº“æä¾›äº†ä¸€ä¸ªå°è£…ï¼Œä¸ºè°ƒç”¨ V8 åº“æä¾›äº†ä¸€ä¸ª C# æ¥å£ã€‚å°±åƒ `ChakraCore` ä¸€æ ·ï¼ŒV8 å¼•æ“æœ¬èº«æ˜¯ä¸€ä¸ªæœ¬åœ°ä¾èµ–ã€‚`ClearScript` åº“è´Ÿè´£ `P/Invoke` è°ƒç”¨ï¼Œæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ C# APIï¼Œä½†ä½ ä»ç„¶è¦ç¡®ä¿ä½ åœ¨ç›®æ ‡å¹³å°ä¸Šéƒ¨ç½²äº†æ­£ç¡®çš„æœ¬åœ°åº“ã€‚

### Jint

[Jint](https://github.com/sebastienros/jint) å¾ˆæœ‰æ„æ€ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå®Œå…¨åœ¨ .NET ä¸­è¿è¡Œçš„ JavaScript è§£é‡Šå™¨ï¼Œæ²¡æœ‰ä»»ä½•æœ¬åœ°çš„ä¾èµ–ï¼å®ƒå®Œå…¨æ”¯æŒ [ECMAScript 5.1 (ES5)](https://www.ecma-international.org/ecma-262/5.1/)ï¼Œå¹¶æ”¯æŒ .NET Standard 2.0ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨ä½ çš„æ‰€æœ‰é¡¹ç›®ä¸­ä½¿ç”¨å®ƒï¼

### Jurassic

[Jurassic](https://github.com/paulbartrum/jurassic) æ˜¯å¦ä¸€ä¸ª JavaScript å¼•æ“çš„ .NET å®ç°ï¼Œç±»ä¼¼äº `Jint`ã€‚ä¹Ÿå’Œ `Jint` ç±»ä¼¼ï¼Œå®ƒæ”¯æŒæ‰€æœ‰çš„ ES5ï¼Œè€Œä¸”ä¼¼ä¹ä¹Ÿéƒ¨åˆ†æ”¯æŒ ES6ã€‚ä¸ Jint ä¸åŒçš„æ˜¯ï¼Œ`Jurassic` ä¸æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œå®ƒå°† JavaScript ç¼–è¯‘æˆ ILï¼Œè¿™ä½¿å¾—å®ƒçš„é€Ÿåº¦éå¸¸å¿«ï¼Œè€Œä¸”å®ƒæ²¡æœ‰æœ¬åœ°çš„ä¾èµ–æ€§ã€‚

é‚£ä¹ˆï¼Œåœ¨æ‰€æœ‰è¿™äº›é€‰æ‹©ä¸­ï¼Œä½ åº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªï¼Ÿ

## 3 JavaScriptEngineSwitcherï¼šå½“ä¸€ä¸ª JS å¼•æ“ä¸å¤Ÿç”¨çš„æ—¶å€™

è¿˜æœ‰ä¸€ä¸ªä¼Ÿå¤§çš„é¡¹ç›®å¯ä»¥è®©ä½ ç®€å•åœ°å°è¯•ä¸Šé¢å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªåº“ã€‚è™½ç„¶æ‰€æœ‰çš„åº“éƒ½å…è®¸ä½ è¿è¡Œ JavaScriptï¼Œä½†å®ƒä»¬éƒ½æœ‰ç•¥å¾®ä¸åŒçš„ C# API æ¥ä¸ä¹‹äº¤äº’ã€‚è¿™å¯èƒ½ä¼šä½¿æ¯”è¾ƒå®ƒä»¬å˜å¾—æœ‰ç‚¹ç—›è‹¦ï¼Œå› ä¸ºä½ å¿…é¡»ä¸ºæ¯ä¸ªåº“å­¦ä¹ ä¸åŒçš„ APIã€‚

[JavaScriptEngineSwitcher](https://github.com/Taritsyn/JavaScriptEngineSwitcher) è¿™ä¸ªåº“ä¸ºæˆ‘æåˆ°çš„æ‰€æœ‰åº“å’Œæ›´å¤šçš„åº“æä¾›äº†å°è£…ï¼š

- [Jering.Javascript.NodeJS](https://github.com/JeringTech/Javascript.NodeJS)
- [ChakraCore](https://github.com/chakra-core/ChakraCore)
- [Microsoft ClearScript.V8](https://github.com/Microsoft/ClearScript)
- [Jint](https://github.com/sebastienros/jint)
- [Jurassic](https://github.com/paulbartrum/jurassic)
- [MSIE JavaScript Engine for .NET](https://github.com/Taritsyn/MsieJavaScriptEngine)
- [NiL.JS](https://github.com/nilproject/NiL.JS)
- [VroomJs](https://github.com/pauldotknopf/vroomjs-core)

æ¯ä¸ªåº“éƒ½åœ¨ä¸€ä¸ªå•ç‹¬çš„åŒ…ä¸­ï¼ˆæœ‰æœ¬åœ°ä¾èµ–å…³ç³»çš„å¼•æ“éœ€è¦ä¸€ä¸ªé¢å¤–çš„æœ¬åœ°åŒ…ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ª Core åŒ…ï¼Œå®ƒæä¾›é€šç”¨çš„ APIã€‚å³ä½¿ä½ ä¸æ‰“ç®—åˆ‡æ¢ JS å¼•æ“ï¼Œæˆ‘ä¹Ÿå€¾å‘äºå°½å¯èƒ½åœ°ä½¿ç”¨ JavaScriptEngineSwitcher å°è£…åº“ï¼Œè¿™æ ·ä½ å°±ä¸å¿…åœ¨ä»¥åéœ€è¦åˆ‡æ¢å¼•æ“æ—¶å¼„æ¸…æ¥šä¸€ä¸ªæ–°çš„ API äº†ã€‚

åœ¨ .NET é¡¹ç›®ä¸­æ”¹å˜ä½¿ç”¨çš„ JavaScript å¼•æ“åœ¨æˆ‘çœ‹æ¥æ˜¯å®Œå…¨å¯èƒ½çš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨ Jintï¼Œä½†å½“æˆ‘éœ€è¦æ‰§è¡Œæ›´å¤§çš„è„šæœ¬æ—¶ï¼Œæˆ‘é‡åˆ°äº†æ€§èƒ½é—®é¢˜ï¼Œäºæ˜¯æ¢æˆäº† `Jurassic`ã€‚`JavaScriptEngineSwitcher` è®©è¿™ä¸€åˆ‡å˜å¾—å¾ˆç®€å•ï¼Œåªéœ€åœ¨æˆ‘çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„åŒ…å¹¶æ”¹å˜ä¸€äº›åˆå§‹åŒ–ä»£ç å³å¯ã€‚

æˆ‘æœ€è¿‘æ‰å‘ç° `JavaScriptEngineSwitcher` è¿™ä¸ªåº“ï¼Œä½†æœ€æ–°ç‰ˆæœ¬çš„ä¸‹è½½é‡å·²æ¥è¿‘ä¸€ç™¾ä¸‡ï¼Œå®ƒè¢«ç”¨äº .NET é™æ€ç½‘ç«™å»ºè®¾è€… [Statiq](https://www.statiq.dev/) ä¸­ã€‚åœ¨è¿™ç¯‡æ–‡ç« çš„æœ€åéƒ¨åˆ†ï¼Œæˆ‘å°†ä¸¾ä¸€ä¸ªæœ€åŸºæœ¬ç”¨æ³•çš„ä¾‹å­ã€‚

## 4 æ¡ˆä¾‹ï¼šç”¨ JavaScriptEngineSwitcher åœ¨æ§åˆ¶å°åº”ç”¨ä¸­è¿è¡Œ prism.js

åœ¨è¿™ç¯‡æ–‡ç« çš„å¼€å¤´ï¼Œæˆ‘è®¨è®ºäº†ä¸€ä¸ªç‰¹å®šçš„åœºæ™¯--ä»£ç å—çš„è¯­æ³•é«˜äº®ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨ `prism.js` é«˜äº®ä¸€å°æ®µä»£ç ï¼Œå¹¶åœ¨ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚

å¼€å§‹ä¹‹å‰è¯·æ·»åŠ  `JavaScriptEngineSwitcher.Jurassic` NuGet åŒ…çš„å¼•ç”¨ã€‚

```shell
dotnet add package JavaScriptEngineSwitcher.Jurassic
```

æ¥ä¸‹æ¥ï¼Œä¸‹è½½ä½ æƒ³è¿è¡Œçš„ JavaScript æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œ[æˆ‘ä» Prism.js çš„å®˜ç½‘ä¸‹è½½äº† prism.js æ–‡ä»¶](https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+csharp)ï¼Œå¹¶å°† C# æ·»åŠ åˆ°é»˜è®¤æ”¯æŒé«˜äº®çš„è¯­è¨€é›†ã€‚åœ¨æŠŠæ–‡ä»¶æ”¾åˆ°é¡¹ç›®æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•åï¼Œæˆ‘æŠŠæ–‡ä»¶æ›´æ–°ä¸ºåµŒå…¥èµ„æºã€‚ä½ å¯ä»¥åœ¨ä½ çš„ IDE ä¸­æ“ä½œï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘é¡¹ç›®æ–‡ä»¶ï¼š

```xml
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net6.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="JavaScriptEngineSwitcher.Jurassic" Version="3.17.4" />
  </ItemGroup>

  <!-- ğŸ‘‡ Make prism.js an embedded resource -->
  <ItemGroup>
    <None Remove="prism.js" />
    <EmbeddedResource Include="prism.js" />
  </ItemGroup>

</Project>
```

å‰©ä¸‹çš„å°±æ˜¯ç¼–å†™ä»£ç ï¼Œåœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­è¿è¡Œè„šæœ¬ã€‚ä¸‹é¢çš„ä»£ç æ®µè®¾ç½®äº† JavaScript å¼•æ“ï¼Œä»ç¨‹åºé›†ä¸­åŠ è½½åµŒå…¥çš„ `prism.js` åº“ï¼Œå¹¶æ‰§è¡Œå®ƒã€‚

```C#
using JavaScriptEngineSwitcher.Jurassic;

// Create an instance of the JavaScript engine
IJsEngine engine = new JurassicJsEngine();

// Execute the embedded resource called JsInDotnet.prism.js from the provided assembly
engine.ExecuteResource("JsInDotnet.prism.js", typeof(Program).Assembly);
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­è¿è¡Œæˆ‘ä»¬è‡ªå·±çš„ JavaScript å‘½ä»¤ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ `SetVariableName`ã€`Execute` å’Œ `Evaluate` ä» C# å‘ JavaScript å¼•æ“ä¼ é€’æ•°å€¼ï¼š

```C#
// This is the code we want to highlight
string code = @"
using System;

public class Test : ITest
{
    public int ID { get; set; }
    public string Name { get; set; }
}";

// set the JavaScript variable called "input" to the value of the c# variable "code"
engine.SetVariableValue("input", code);

// set the JavaScript variable called "lang" to the string "csharp"
engine.SetVariableValue("lang", "csharp");

// run the Prism.highlight() function, and set the result to the "highlighed" variable
engine.Execute($"highlighted = Prism.highlight(input, Prism.languages.csharp, lang)");

// "extract the value of "highlighted" from JavaScript to C#
string result = engine.Evaluate<string>("highlighted");

Console.WriteLine(result);
```

å½“ä½ æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·è¿è¡Œæ—¶ï¼Œé«˜äº®çš„ä»£ç ä¼šè¢«æ‰“å°åˆ°æ§åˆ¶å°ï¼š

```html
<span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ITest</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> ID <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
```

æ¸²æŸ“åï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

![](https://lequ.co/2022/05/3101.png)

æˆ‘å¯¹æ•´ä¸ªè¿‡ç¨‹çš„ç®€å•ç¨‹åº¦æ„Ÿåˆ°æƒŠè®¶ã€‚å¯åŠ¨ä¸€ä¸ª JavaScript å¼•æ“ï¼ŒåŠ è½½ `prism.js` æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œæˆ‘ä»¬çš„è‡ªå®šä¹‰ä»£ç æ˜¯å¦‚æ­¤é¡ºåˆ©ã€‚è¿™æ˜¯æˆ‘é¢ä¸´é—®é¢˜çš„å®Œç¾è§£å†³æ–¹æ¡ˆã€‚

æˆ‘æ˜¾ç„¶ä¸å»ºè®®æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½è¿™æ ·åšã€‚å¦‚æœä½ éœ€è¦è¿è¡Œå¤§é‡çš„ JavaScriptï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ `Node.js` ç”Ÿæ€ç³»ç»ŸåŠå·¥å…·å¯èƒ½æ›´å®¹æ˜“ã€‚ä½†å¦‚æœä½ åªæ˜¯æƒ³åˆ©ç”¨ä¸€ä¸ªå°å‹çš„ã€ç‹¬ç«‹çš„å·¥å…·ï¼ˆå¦‚ `prims.js`ï¼‰ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

## 5 æ€»ç»“

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ `JavaScriptEngineSwitcher` NuGet åŒ…æ¥åœ¨ .NET åº”ç”¨ç¨‹åºä¸­è¿è¡Œ JavaScriptã€‚è¿™ä¸ªåŒ…ä¸ºè®¸å¤šä¸åŒçš„ JavaScript å¼•æ“æä¾›äº†ä¸€ä¸ªä¸€è‡´çš„æ¥å£ã€‚å…¶ä¸­ä¸€äº›å¼•æ“ï¼ˆå¦‚ `Chakra Core` å’Œ `V8`ï¼‰éœ€ä¾èµ–ä¸€ä¸ªæœ¬åœ°ç»„ä»¶ï¼Œè€Œå…¶ä»–å¼•æ“ï¼ˆå¦‚ `Jint` å’Œ `Jurassic`ï¼‰åªä½¿ç”¨æ‰˜ç®¡ä»£ç ã€‚æœ€åï¼Œæˆ‘å±•ç¤ºäº†ä½ å¦‚ä½•ä½¿ç”¨ `JavaScriptEngineSwitcher` åœ¨ .NET åº”ç”¨ç¨‹åºå†…éƒ¨è¿è¡Œ `Prims.js` ä»£ç é«˜äº®åº“ã€‚

>åŸæ–‡ï¼šhttps://andrewlock.net/running-javascript-in-a-dotnet-app-with-javascriptengineswitcher/
>
>ä½œè€…ï¼šAndrew Lock
>
>ç¿»è¯‘ï¼šç²¾è‡´ç å†œ